(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{763:function(t,e,n){"use strict";n.r(e);var r=n(846),o=n(764);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return o[t]})}(i);n(774);var u=n(257),a=Object(u.default)(o.default,r.render,r.staticRenderFns,!1,null,"2da9545f",null);a.options.__file="src/common/components/qrcode/index.vue",e.default=a.exports},764:function(t,e,n){"use strict";n.r(e);var r=n(765),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return r[t]})}(i);e.default=o.a},765:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(215)),o=s(n(218)),i=n(766),u=n(767),a=n(243),c=s(n(768));function s(t){return t&&t.__esModule?t:{default:t}}var f=window.API,l=f.urlQuery;e.default={components:{Container:c.default},props:["onlyH5","hideMaiMai"],data:function(){return{zxCode:"",mmCode:"",h5Code:""}},computed:{appCode:function(){return this.zxCode||this.mmCode},showAppCode:function(){return!(this.onlyH5||l("vc_tid"))}},mounted:function(){this.getH5Code(),this.getMiniAppCode()},methods:{getH5Code:function(){var t=(0,o.default)(r.default.mark(function t(){var e,n,o,c,s=this;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,t.prev=1,n=f.setQuerystring(location.href,{vc_h5QrCode:"1"},{replace:!0}),t.next=5,(0,u.requestShortUrl)(n);case 5:e=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("requestShortUrl error",t.t0);case 11:o=f.env,c=o.get("shopLogo"),(0,i.GetH5QRCode)({url:encodeURI(e),logo:c,logoSize:80},function(t){var e=t.url,n=t.params;return(0,a.ThorCache)(e,n,!0)}).then(function(t){t&&t.result&&t.result.base64&&(s.h5Code=t.result.base64)});case 14:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),getMiniAppCode:function(){var t=(0,o.default)(r.default.mark(function t(){var e,n,o,u,c,s,l,d,p,h,v;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=f.env,n=e.get("isMall"),o=e.get("shopId"),u=e.get("userId"),c=window.API.urlQuery("wfr"),!n){t.next=20;break}return t.prev=6,t.next=9,(0,i.GetThirdAppQRCode)({shopId:o,scence:o+"_"+c+(u?"_"+u:"")},function(t){var e=t.url,n=t.params;return(0,a.ThorCache)(e,n,!0)});case 9:if(s=t.sent,l=s.code,d=s.result,0!==l||!d.qrUrl){t.next=13;break}return t.abrupt("return",this.zxCode=d.qrUrl);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),console.log("zxCode error",t.t0);case 18:t.next=33;break;case 20:if(!this.hideMaiMai){t.next=22;break}return t.abrupt("return");case 22:return t.prev=22,t.next=25,(0,i.GetMaiMaiQRCode)({shopId:o,scence:o+"_"+c+(u?"_"+u:"")},function(t){var e=t.url,n=t.params;return(0,a.ThorCache)(e,n,!0)});case 25:p=t.sent,h=p.code,v=p.result,0===h&&v.qrUrl&&(this.mmCode=v.qrUrl),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(22),console.log("mmCode error",t.t1);case 33:case"end":return t.stop()}},t,this,[[6,15],[22,30]])}));return function(){return t.apply(this,arguments)}}()}}},766:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetH5QRCode=function(t,e){var n=t.url,r=t.size,o=void 0===r?256:r,i=t.logo,u=t.logoSize,a=void 0===u?100:u;return e({url:"/luna/qrCode.generate/1.0",params:{url:n,size:o,logo:i,logoSize:a,uploadCdn:!1,needBase64:!0}})},e.GetMaiMaiQRCode=function(t,e){var n=t.shopId,r=t.path,o=void 0===r?"lib/shop/dist/pages/index/index":r,i=t.appId,u=void 0===i?"wx4d1258677af59f5c":i,a=t.scence,c=void 0===a?"":a;return e({url:"/wxapp/wx.getItemQrUrlPublic/1.0",params:{sellerId:n,path:o,scence:c,appId:u}})},e.GetThirdAppQRCode=function(t,e){var n=t.shopId,r=t.path,o=void 0===r?"lib/shop/dist/pages/index/index":r,i=t.scence,u=void 0===i?"":i;return e({url:"/wxapp/wx.getItemQrUrl/1.0",params:{sellerId:n,path:o,scence:u}})}},767:function(t,e,n){"use strict";n.r(e),n.d(e,"generateConfigDataNameByUrl",function(){return le}),n.d(e,"generateIndependentUrl",function(){return de}),n.d(e,"generateMpId",function(){return pe}),n.d(e,"generateMultidomainUrl",function(){return fe}),n.d(e,"isPrivateUrl",function(){return se}),n.d(e,"requestConfig",function(){return oe}),n.d(e,"requestMultidomainUrl",function(){return ue}),n.d(e,"requestShortUrl",function(){return ce}),n.d(e,"util",function(){return re});var r=window,o=document,i=/AppleWebKit.*Mobile.*/i,u=/WDAPP\(WDBuyer/i,a=navigator.userAgent.toLowerCase();function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){}function f(t){return void 0===t||null===t}function l(t){return void 0===t||null===t||""===t}function d(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function p(t){return d("String")(t)}function h(t){return d("Error")(t)}function v(t){return d("Array")(t)}function m(t){return"function"==typeof t}function g(t){return d("Object")(t)}function y(t){return null!==t&&"object"===c(t)}function w(t){return"undefined"!=typeof FormData&&t instanceof FormData}function b(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){if(v(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else if(g(t))for(var o in t)x(t,o)&&e.call(null,t[o],o,t)}function P(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return!function(t){return d("Boolean")(t)}(t)?n=t:(e=t,n=r.shift()),C(r,function(t){C(t,function(t,r){e&&(v(t)||g(t))?(v(t)?v(n[r])||(n[r]=[]):g(n[r])||(n[r]={}),P(e,n[r],t)):n[r]=t})}),n}var A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.code=n,o.subcode=r,o}return A(e,t),e}(Error);function S(t,e,n){return new O(t,e,n)}function q(t){return t>=200&&t<300||304==t}function k(t){var e;return u.test(a)&&(null===(e=null===t||void 0===t?void 0:t.extra)||void 0===e?void 0:e.useNative)}var U=function(){function t(){this.hooks={}}return t.prototype.push=function(t,e){var n=this.hooks[t]||(this.hooks[t]=[]);return"function"==typeof e&&n.push(e),this},t.prototype.invokeWaterfall=function(t,e,n){var r=this.hooks[t];if(!r||!r.length)return n(),this;var o=0;return r[o](e,function t(i){return h(i)?n(i):++o>=r.length?n():void r[o](e,t)}),this},t}(),E=function(){function t(t){this.hooks=new U,this._installedPlugins=[],this.options=t||{},this.hooks=new U,this._installedPlugins=[]}return t.prototype.use=function(t){return this._installedPlugins.indexOf(t)>-1||!m(t)?this:(t.call(this),this._installedPlugins.push(t),this)},t}(),j="#",_="?",I="&";function R(t){return encodeURIComponent(t).replace(/%20/g,"+")}function M(t){if(b(t))return t.toString();var e=t;if(g(t)||v(t)){var n=[];C(t,function(t,e){f(t)||(v(t)?e+="[]":t=[t],C(t,function(t){!function(t){return d("Date")(t)}(t)?y(t)&&(t=JSON.stringify(t)):t=t.toISOString(),n.push(R(e)+"="+R(t))}))}),e=n.join(I)}return e}function X(t,e){if(!p(t))return"";var n=t.split(j);t=n[0];var r=M(e);return p(r)&&r&&(t+=(-1===t.indexOf(_)?_:I)+r),n[0]=t,n.join(j)}var z="GET",D="json";function H(t,e,n){n=n||s,m(t)?t(e,function(){n(e)}):n(e)}function B(t,e){var n=e.responseType,r=e.url,o=e.success,i=e.error;if(4===t.readyState){var u=function(t,e){var n=e.url;return 0===t&&0===n.indexOf("file:")?200:{1223:204}[t]||t}(t.status,{url:r}),a=void 0;if(q(u)){try{a=function(t,e){var n=e.responseType,r=e.status,o=t.response;if(n===D&&t.responseType!==D&&!g(o))try{o=JSON.parse(t.responseText)}catch(t){throw t}return{data:o,status:r}}(t,{responseType:n,status:u})}catch(n){return H(e.beforeError,{request:t,response:a,options:e,error:n},i)}H(e.beforeSuccess,{request:t,response:a,options:e},o)}else H(e.beforeError,{request:t,response:a,options:e,error:new Error("Network Error")},i)}}function T(t){(t=P({method:z,responseType:D,withCredentials:!0,cache:!0},t)).method=t.method||z;var e=new XMLHttpRequest;function n(t){var e=t.request,n=t.options;e.send(n.method===z?null:M(n.data))}H(t.configured,{request:e,options:t},function(t){var e=t.request,r=t.options;r.method=r.method.toUpperCase(),e.open(r.method,function(t,e){var n=e.method,r=e.cache,o=e.data;return n===z&&(t=X(t,o),r||(t=X(t,{_:Date.now()}))),t}(r.url,r),!0),e.onreadystatechange=function(){B(e,r)},function(t,e){e.withCredentials&&(t.withCredentials=!0)}(e,r),function(t,e){var n=e.responseType;if(n)try{t.responseType=n}catch(t){}}(e,r),function(t,e){var n=e.headers,r=e.method,o=e.data;if(g(n))for(var i in n)if(n.hasOwnProperty(i)&&!f(n[i])){if("content-type"===i.toLowerCase()&&(r===z||w(o)))continue;t.setRequestHeader(i,n[i])}}(e,r),H(r.beforeRequest,{request:e,options:r},n)})}var J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=["configured","beforeRequest","beforeSuccess","beforeError"];var W=function(t){function e(e){return t.call(this,e)||this}return J(e,t),e.prototype.request=function(t,e){var n=this,r=P(!0,{},this.options,e||{},{url:t,extra:{}});return new Promise(function(t,e){p(r.url)&&r.url?(!function(t,e){C(G,function(n){t[n]=function(t,r){e.hooks.invokeWaterfall(n,t,r)}})}(r,n),r.success=t,r.error=e,T(r)):e({error:S("Url Error",-2)})})},e}(E);var N="?",L="&",F="=",K=window,Q=/^[^\?#]*\?([^#]*)/;function Z(t){return encodeURIComponent(t)}function Y(t){return decodeURIComponent(t.replace(/\+/g," "))}function V(t){var e={};return(t=function(t){var e;return t&&(e=t.match(Q))&&e[1]||""}(t)).split(L).forEach(function(t){if(t){var n=t.split(F),r=n[0],o=n.slice(1).join(F)||"";r&&(r=Y(r),o=Y(o),x(e,r)?(v(e[r])||(e[r]=[e[r]]),e[r].push(o)):e[r]=o)}}),e}function $(t){if(!g(t))return"";var e=[];return C(t,function(t,n){f(t)||(v(t)||(t=[t]),n=Z(n),t.forEach(function(t){e.push(""+n+F+Z(t))}))}),e.join(L)}var tt="query",et=["hash","host","hostname","pathname","port","protocol"],nt=["href","search"],rt=["origin"],ot=Object.defineProperty;function it(t,e){return t===tt?g(e):p(e)||function(t){return d("Number")(t)}(e)}function ut(t){var e=$(t);return(e?N:"")+e}var at=function(){function t(t){l(t)&&(t=K.location.href);var e=this._element=K.document.createElement("A");e.href=t,function(t,e){et.forEach(function(n){ot(t,n,{get:function(){return e[n]},set:function(t){it(n,t)&&(e[n]=t)},enumerable:!0})})}(this,this._element),function(t,e){nt.forEach(function(n){ot(t,n,{get:function(){return e.search=ut(e[tt]),e[n]},set:function(t){it(n,t)&&(e[n]=t,e[tt]=V(e.search))},enumerable:!0})})}(this,this._element),function(t,e){!function(n){ot(t,n,{get:function(){return t.search=ut(e[n]),e[n]},set:function(t){it(n,t)&&(e[n]=t)},enumerable:!0})}(tt)}(this,this._element),function(t,e){rt.forEach(function(n){ot(t,n,{get:function(){return e[n]},enumerable:!0})})}(this,this._element),this.href=e.href}return t.prototype.toString=function(){return this.href},t}();var ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function st(t){return new at(t).pathname.slice(1)||""}var ft=function(t){function e(e){return t.call(this,e)||this}return ct(e,t),e.prototype.request=function(t,e){var n=P({url:st(t),data:function(t){return t&&t.param||{}}(e&&e.data)},this.options);return function(t){if(!p(t)||!t)return!1;var e=st(t);return e&&3===e.split("/").length}(t)?function(t){var e=t.url,n=t.data;return new Promise(function(t,o){f(r.KDJSBridge2)?o(S("Jsbridge Undefined",-3,1)):r.KDJSBridge2.call("WDJSBridge","thorRequest",{url:e,param:n},function(e){var n,r=(null===(n=null===e||void 0===e?void 0:e.param)||void 0===n?void 0:n._errMsg)||{};if(0===r.code)t(e);else{if(function(t){var e=t.message;return 10001===t.code||-1!==e.indexOf("暂未实现")||-1!==e.indexOf("not implemented")}(r))return void o(S("Jsbridge Method Not Implement Error",-3,2));o(S(r.message||"Jsbridge Method Call Error",-3,3))}})}).then(function(t){return t.param.thorResponse})}(n):Promise.reject(S("Url Error Or Url Pathname Illegal",-2))},e}(E);function lt(t){var e=t.response,n=t.options,r=e.data;return"json"!==n.responseType||y(r)?r:Promise.reject(S("JSON Data Error",-1,1))}function dt(){var t=this;t.hooks.push("beforeRequest",function(t,e){!function(t){g(t)&&C(t,function(e,n){(g(e)||v(e))&&(t[n]=JSON.stringify(e))})}(t.options.data),e()});var e=t.request;t.request=function(){return e.apply(t,arguments).then(lt,function(t){var e=h(t)?t:t.error;return Promise.reject(e)})}}var pt=window,ht="; ",vt=new RegExp("([^=]+)=(.*)"),mt=pt.decodeURIComponent,gt=pt.encodeURIComponent,yt=pt.escape;function wt(t){return t.replace(/(%[0-9A-Z]{2})+/g,mt)}var bt={get:{name:wt,value:function(t){return wt(t)}},set:{name:function(t){return gt(t).replace(/%(23|24|26|2B|5E|60|7C)/g,mt).replace(/[\(\)]/g,yt)},value:function(t){return gt(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,mt)}}};var xt={},Ct=!1,Pt=!1,At=[];function Ot(){if(!Pt){Pt=!0;var t=0;!function(t){f(r.KDJSBridge2)?t():r.KDJSBridge2.call("WDJSBridge","getSuid",{},function(e){e&&e.param&&e.param.suid?t(e.param.suid):t()})}(function(t){t&&(xt.suid=t),e()}),function(t){f(r.KDJSBridge2)?t():r.KDJSBridge2.call("WDJSBridge","getCuid",{},function(e){e&&e.param&&e.param.cuid?t(e.param.cuid):t()})}(function(t){t&&(xt.cuid=t),e()})}function e(){2===++t&&(Ct=!0,function(t){C(At,function(e){e(t)}),At.length=0}(xt))}}function St(t){Ot(),Ct?t(xt):function(t){At.push(t)}(t)}var qt="wdtoken";function kt(t){var e=function(t){var e;if(!l(t))return pt.document.cookie.split(ht).some(function(n){var r=n.match(vt);return!(!r||bt.get.name(r[1])!==t||(e=bt.get.value(r[2]),0))}),e}(qt);if(e){if(g(t))return void(t[qt]=e);if(w(t))return void t.append(qt,e);if(b(t))return void t.set(qt,e)}}function Ut(t){return t&&t.status&&0===t.status.code?t:Promise.reject(t)}function Et(t){return Promise.reject(function(t){var e=t.code,n=t.subcode,r=t.message;return{status:{code:f(e)?-1:e,subcode:n,message:r},result:null}}(t))}var jt=1,_t=1500;function It(){if(i.test(a)){var t=document.querySelectorAll('meta[name="viewport"]'),e=t[t.length-1];if(e){var n=e.getAttribute("content"),r=n&&n.match(/initial\-scale=([\d\.]+)/);return r?1/Number(r[1]):jt}}return jt}var Rt=20,Mt="redirect",Xt=1e3;function zt(t){var e;if(g(t)){var n=g(t.status)?t.status:{},i=g(t.result)?t.result:{},u=i.authPageUrl;if(n.code==Rt&&u)return u=function(t,e,n){var r=K.location.href;g(t)&&(n=e,e=t,t=r),f(t)&&(t=r),n=P({replace:!0},n);var o=new at(t);if(n.replace)o.query=P(o.query||{},e);else{var i=$(e);if(i){var u=-1===o.search.indexOf(N)?N:L;o.search+=u+i}}return o.toString()}(u,((e={})[Mt]=r.location.href,e)),i.message&&function(t){var e=It(),n='<div class="hawk-toast">'+t+'</div><style type="text/css">.hawk-toast{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:10000;width:50%;color:#fff;background:rgba(33,33,33,0.9);line-height:1.5;border-radius:'+8*e+"px;max-width:"+300*e+"px;padding:"+20*e+"px;font-size:"+16*e+"px;}</style>",r=o.body;if(r){var i=o.createElement("div");i.innerHTML=n,r.appendChild(i),setTimeout(function(){r.removeChild(i)},_t)}}(i.message),setTimeout(function(){!function(t){t&&r.location.assign(t)}(u)},Xt),!1}return!0}var Dt=r.XMLHttpRequest,Ht=Dt&&Dt.prototype,Bt=Ht&&Ht.send;function Tt(t,e,n){try{if(4==e.readyState&&q(e.status)){var r=g(e.response)?e.response:function(t){try{return JSON.parse(t)}catch(t){}}(e.responseText);return t.beforeSuccess(r,n)}}catch(t){}n()}var Jt=r.Element,Gt=Jt&&Jt.prototype,Wt="SCRIPT",Nt="callback",Lt=["appendChild","insertBefore"];function Ft(t){C(Lt,function(e){var n=Gt&&Gt[e];n&&(Gt[e]=function(e){if(e&&e.tagName===Wt&&e.src){var o=function(t){return f(t)&&(t=K.location.href),V(t)}(e.src)[Nt];if(p(o)){var i=function(t){var e=t.split("."),n=e.length;if(n){var o,i=r,u=r;try{for(var a=0;a<n;a++){if(!u)return;u=(i=u)[o=e[a]]}if(!m(u))return}catch(t){return}return{namespace:i,name:o,definition:u}}}(o);if(i){var u=i.definition;i.namespace[i.name]=function(e){var n=arguments;!function(t,e,n){try{return t.beforeSuccess(e,n)}catch(t){}n()}(t,e,function(){u.apply(i.namespace,n)})}}}}return n.apply(this,function(t){return Array.prototype.slice.call(t)}(arguments))})})}var Kt=r.fetch;function Qt(t){(function(t){return"function"==typeof t&&-1!==t.toString().indexOf("[native code]")})(Kt)&&(r.fetch=function(){var e=arguments;return Kt.apply(this,e).then(function(e){return new Promise(function(n){!function(t,e,n){try{if(q(e.status))return e.clone().json().then(function(e){t.beforeSuccess(e,n)}).catch(function(){n()})}catch(t){}n()}(t,e,function(){n(e)})})})})}function Zt(t){g(t)&&m(t.beforeSuccess)&&(!function(t){m(Bt)&&(Ht.send=function(){var e=arguments,n=this,r=n.onreadystatechange,o=n.onload,i=!1;return r&&(i=!0,n.onreadystatechange=function(){var e=arguments;Tt(t,n,function(){r.apply(n,e)})}),o&&!i&&(n.onload=function(){var e=arguments;Tt(t,n,function(){o.apply(n,e)})}),Bt.apply(n,e)})}(t),Ft(t),Qt(t))}function Yt(t){return t&&t.status&&0===t.status.code?t:Promise.reject(t)}function Vt(t){return Promise.reject(function(t){var e=t.code,n=t.subcode,r=t.message;return{status:{code:f(e)?-3:e,subcode:n,message:r},result:null}}(t))}r.hawk=r.hawk||{disabled:!1};var $t={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json, */*"};var te=function(t){t=P(!0,{},{headers:$t,cache:!1},t);var e=new W(t);return e.use(dt),e}();te.use(function(){r.hawk.disabled||(Zt({beforeSuccess:function(t,e){zt(t)&&e()}}),r.hawk.disabled=!0)}),te.use(function(){var t=this;t.hooks.push("configured",function(t,e){var n=t.options;n.responseType="json",n.data=n.data||{},kt(n.data),n.extra.deviceId?function(t,e){St(function(n){g(t)&&(t.context=P(t.context||{},n)),e()})}(n.data,function(){e()}):e()});var e=t.request;t.request=function(){return e.apply(t,arguments).then(Ut,Et)}});var ee=new ft;function ne(t,e){return k(e)?ee.request(t,e):te.request(t,e)}ee.use(function(){var t=this,e=t.request;t.request=function(){return e.apply(t,arguments).then(Yt,Vt)}});var re={generateEnvStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,e="";return/\.((daily)|(dev))\./.test(t)?e=".daily":/(\.|\-)pre\./.test(t)&&(e=".pre"),e},isPrivateUrl:function(t){return/^(http(s)?:)?\/\/shop\w+((\.daily)|(\.pre))?\.v\.weidian\.com/.test(t)},generateConfigDataNameByUrl:function(t){return this.isPrivateUrl(t)?"privateRuleList":/^(http(s)?:)?\/\/.*\.youshop10\.com/.test(t)?"groupRuleList":""},analyzeUrl:function(t){return new at(t)},isUrl:function(t){if("string"!=typeof t)return!1;var e=t.match(/^(?:\w+:)?\/\/(\S+)$/);if(!e)return!1;var n=e[1];return!!n&&!(!/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/.test(n)&&!/^[^\s\.]+\.\S{2,}$/.test(n))}},oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re.generateEnvStr();return ne("https://thor".concat(t,".weidian.com/skittles/share.getConfig/1.0")).then(function(t){if(t&&t.result){var e=t.result;return Object.assign({},e,{mpConfigList:e.mpConfigList,privateRuleList:e.privateRuleList,multidomainRuleMap:e.urlRules})}return null}).catch(function(){return null})},ie=window.location.href,ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shareUrl,n=void 0===e?ie:e,r=t.originUrl,o=void 0===r?ie:r;return ne("//thor".concat(re.generateEnvStr(),".weidian.com/skittles/share.getUrlNew/1.0"),{method:"post",data:{param:{shareUrl:n,originUrl:o}}}).then(function(t){return t&&t.result&&t.result.success?{url:t.result.shareUrl,mpId:t.result.mpId}:null}).catch(function(){return null})},ae=window.location.href,ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;return ne("//thor".concat(re.generateEnvStr(),".weidian.com/skittles/share.getShortUrl/1.0"),{method:"post",data:{param:{url:t}}}).then(function(t){return t.result?t.result.shareUrl:""}).catch(function(){return""})},se=function(t){return re.isPrivateUrl(t)},fe=function(t,e){var n=e.multidomainRuleMap,r=re.analyzeUrl(t),o=r.protocol,i=r.host,u=(r.origin,r.pathname),a=(r.search,r.hash,function(t){return t.replace(/^\//,"").replace(/\/$/,"").split("/")}(u)),c=t;function s(t,e){var n=Math.random();return t+parseInt(n*(e-t)+"")}try{var f=n[i];if(f){for(var l=[],d=0,p=f.length;d<p;d++){var h=f[d],v=h.backupHosts,m=h.backupPath,g=h.pathRegExp;if(1==h.status&&new RegExp(g).test(t)&&v.length){var y=v[s(0,v.length)],w="".concat(o,"//").concat(i,"/").concat(a[0],"/"),b="".concat(o,"//").concat(y,"/").concat(a[0],"/");m&&(b="".concat(o,"//").concat(y,"/").concat(m,"/")),0===t.indexOf(w)&&l.push(t.replace(w,b))}}var x=l.length;x>=1&&(c=l[x-1])}}catch(e){c=t}return re.isUrl(c)||(c=t),c},le=function(t){return re.generateConfigDataNameByUrl(t)},de=function(t,e){var n=e.dataMap,r=e.curUrl,o=void 0===r?window.location.href:r;if(!t||!re.isUrl(t))return t;var i=le(o);if(!o||!i)return t;var u=n[i];if(!u)return t;for(var a=re.analyzeUrl(o),c=a.protocol,s=a.host,f=t,l=-1,d=0,p=u.length;d<p;d++)try{var h=u[d],v=h.status,m=h.pathRegExp,g=new RegExp(m);if(1==v&&g.test(f)){l=d;break}}catch(t){}if(-1!==l){var y=re.analyzeUrl(t),w=y.pathname,b=y.search,x=y.host,C=y.hash;"privateRuleList"===i&&"i.weidian.com"===x&&(s="".concat(s,"/user")),f="".concat(c,"//").concat(s).concat(w).concat(b).concat(C)}return f};var pe=function(t,e){var n="";if(!e)return n;var r=e.mpConfigList,o=e.multidomainRuleMap;if(!r||!o)return n;var i=fe(t,{multidomainRuleMap:o}),u="",a=new at(i).host;/weidian\.com/.test(a)?u=new at(window.location.href).host:u=a;return n=function(t,e){var n="";t=t.replace(/^((www)|(wd)|(rocker)|(h5)|(shop)|(im)|(k))\./,"");for(var r=0,o=e.length;r<o;r++){var i=e[r],u=i.hosts,a=i.mpId;if(-1!==u.indexOf(t)){n=a;break}}return n}(u,r)}},768:function(t,e,n){"use strict";n.r(e);var r=n(883),o=n(769);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return o[t]})}(i);n(771);var u=n(257),a=Object(u.default)(o.default,r.render,r.staticRenderFns,!1,null,"4504060e",null);a.options.__file="src/common/components/qrcode/container.vue",e.default=a.exports},769:function(t,e,n){"use strict";n.r(e);var r=n(770),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,function(){return r[t]})}(i);e.default=o.a},770:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title","qrcode"],data:function(){return{loaded:!0}},computed:{isBase64:function(){var t=this.qrcode;return t&&0===t.indexOf("data:image")},qrcodeCropped:function(){var t=this.isBase64,e=this.qrcode;return t?e:window.API.getCDNImgUrl(e,240)}},watch:{qrcode:{immediate:!0,handler:function(t){var e=this,n=function(){return e.loaded=!0};return this.isBase64?n():this.preloadImg(t,n)}}},methods:{preloadImg:function(t,e){var n=new Image;n.onload=e,n.src=t}}}},771:function(t,e,n){"use strict";n.r(e);var r=n(772);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return r[t]})}(o)},772:function(t,e,n){var r=n(773);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(823).default)("a8489ad8",r,!1,{})},773:function(t,e,n){(t.exports=n(256)(!1)).push([t.i,".ct[data-v-4504060e]{margin-bottom:24PX;padding:0 16PX;width:180PX;height:240PX;background-color:#fff;border-radius:12PX;text-align:center;box-sizing:border-box;border:1px solid #f1f1f3}.top[data-v-4504060e]{padding-top:14PX;padding-bottom:9PX;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;border-bottom:1px solid #eee}.top .txt[data-v-4504060e]{font-size:16PX;color:#06c160}.icon[data-v-4504060e]{margin-right:5PX;width:27PX;height:24PX;background-repeat:no-repeat;background-size:contain;background-position:50%;background-image:url(data:image/png;base64,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)}.title[data-v-4504060e]{margin:8PX auto;font-size:14PX;color:#737373}.img[data-v-4504060e]{margin:0 auto;display:block;width:140PX;height:140PX;border:none;object-fit:contain}",""])},774:function(t,e,n){"use strict";n.r(e);var r=n(775);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,function(){return r[t]})}(o)},775:function(t,e,n){var r=n(776);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(823).default)("364bade4",r,!1,{})},776:function(t,e,n){(t.exports=n(256)(!1)).push([t.i,".shop-qrcode-ct[data-v-2da9545f]{position:fixed;top:60PX;left:50%;margin-left:352PX}",""])},846:function(t,e,n){"use strict";n.r(e),n.d(e,"render",function(){return r}),n.d(e,"staticRenderFns",function(){return o});var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"shop-qrcode-ct"},[e("Container",{attrs:{title:"H5预览码",qrcode:this.h5Code}}),this._v(" "),this.showAppCode?e("Container",{attrs:{title:"小程序预览码",qrcode:this.appCode}}):this._e()],1)},o=[];r._withStripped=!0},883:function(t,e,n){"use strict";n.r(e),n.d(e,"render",function(){return r}),n.d(e,"staticRenderFns",function(){return o});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.qrcode&&t.loaded?n("div",{staticClass:"ct"},[t._m(0),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("img",{staticClass:"img",attrs:{src:t.qrcodeCropped,alt:""}})]):t._e()},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div",{staticClass:"icon"}),this._v(" "),e("div",{staticClass:"txt"},[this._v("手机扫码浏览")])])}];r._withStripped=!0}}]);